"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/convert";
exports.ids = ["pages/api/convert"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fconvert&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cconvert.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fconvert&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cconvert.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_convert_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\convert.js */ \"(api-node)/./pages/api/convert.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_convert_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_convert_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/convert\",\n        pathname: \"/api/convert\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_convert_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGY29udmVydCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDY29udmVydC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUNxRDtBQUNyRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsa0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGtEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGNvbnZlcnQuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NvbnZlcnRcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jb252ZXJ0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fconvert&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cconvert.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/convert.js":
/*!******************************!*\
  !*** ./pages/api/convert.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _google_cloud_speech__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @google-cloud/speech */ \"@google-cloud/speech\");\n/* harmony import */ var _google_cloud_speech__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_google_cloud_speech__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _google_cloud_text_to_speech__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @google-cloud/text-to-speech */ \"@google-cloud/text-to-speech\");\n/* harmony import */ var _google_cloud_text_to_speech__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_google_cloud_text_to_speech__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _google_cloud_translate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @google-cloud/translate */ \"@google-cloud/translate\");\n/* harmony import */ var _google_cloud_translate__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_google_cloud_translate__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nconst upload = multer__WEBPACK_IMPORTED_MODULE_0___default()({\n    storage: multer__WEBPACK_IMPORTED_MODULE_0___default().memoryStorage()\n});\nconst runMiddleware = (req, res, fn)=>new Promise((resolve, reject)=>{\n        fn(req, res, (result)=>{\n            if (result instanceof Error) return reject(result);\n            return resolve(result);\n        });\n    });\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nconst getEncodingFromExtension = (filename)=>{\n    const ext = filename.split('.').pop().toLowerCase();\n    switch(ext){\n        case 'mp3':\n            return 'MP3';\n        case 'wav':\n            return 'LINEAR16';\n        case 'm4a':\n        case 'aac':\n            return 'AAC_LC';\n        default:\n            return 'LINEAR16';\n    }\n};\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).end('Method Not Allowed');\n    }\n    // Handle Google credentials dynamically:\n    if (process.env.GOOGLE_APPLICATION_CREDENTIALS_BASE64) {\n        // In deployed environment, decode base64 and write the JSON file\n        const base64Key = process.env.GOOGLE_APPLICATION_CREDENTIALS_BASE64;\n        const keyFilePath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), 'voice-dubbing-app.json');\n        try {\n            const keyFileJson = Buffer.from(base64Key, 'base64').toString('utf8');\n            fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(keyFilePath, keyFileJson, {\n                encoding: 'utf8'\n            });\n            process.env.GOOGLE_APPLICATION_CREDENTIALS = keyFilePath;\n        } catch (err) {\n            console.error('Error writing Google credentials file:', err);\n            return res.status(500).json({\n                error: 'Failed to setup Google credentials'\n            });\n        }\n    } else {\n        // On local system, assume voice-dubbing-app.json is already present\n        const localKeyPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), 'voice-dubbing-app.json');\n        if (fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(localKeyPath)) {\n            process.env.GOOGLE_APPLICATION_CREDENTIALS = localKeyPath;\n        } else {\n            return res.status(500).json({\n                error: 'Google credentials not found locally'\n            });\n        }\n    }\n    try {\n        await runMiddleware(req, res, upload.single('audio'));\n    } catch (err) {\n        console.error('Upload error:', err);\n        return res.status(500).json({\n            error: 'File upload failed.'\n        });\n    }\n    const audioBuffer = req.file.buffer;\n    const filename = req.file.originalname;\n    const encoding = getEncodingFromExtension(filename);\n    try {\n        const speechClient = new (_google_cloud_speech__WEBPACK_IMPORTED_MODULE_3___default().SpeechClient)();\n        const [speechResponse] = await speechClient.recognize({\n            audio: {\n                content: audioBuffer.toString('base64')\n            },\n            config: {\n                encoding,\n                sampleRateHertz: 44100,\n                languageCode: 'en-US'\n            }\n        });\n        const transcription = speechResponse.results.map((r)=>r.alternatives[0].transcript).join(' ');\n        if (!transcription) throw new Error('❌ Transcription failed');\n        const translate = new _google_cloud_translate__WEBPACK_IMPORTED_MODULE_5__.v2.Translate();\n        const [translatedText] = await translate.translate(transcription, 'hi');\n        const ttsClient = new (_google_cloud_text_to_speech__WEBPACK_IMPORTED_MODULE_4___default().TextToSpeechClient)();\n        const [ttsResponse] = await ttsClient.synthesizeSpeech({\n            input: {\n                text: translatedText\n            },\n            voice: {\n                languageCode: 'hi-IN',\n                ssmlGender: 'FEMALE'\n            },\n            audioConfig: {\n                audioEncoding: 'MP3'\n            }\n        });\n        res.setHeader('Content-Type', 'audio/mpeg');\n        res.send(ttsResponse.audioContent);\n    } catch (err) {\n        console.error('Conversion error:', err.message || err);\n        res.status(500).json({\n            error: '❌ Audio conversion failed. Try again.'\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBbUIsaUJBQWlCO2dCQUNqQkMsY0FBYztZQUNoQjtRQUNGO1FBRUEsTUFBTUMsZ0JBQWdCTixlQUFlTyxPQUFPLENBQ3pDQyxHQUFHLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRUMsWUFBWSxDQUFDLEVBQUUsQ0FBQ0MsVUFBVSxFQUN2Q2pDLElBQUksQ0FBQztRQUVSLElBQUksQ0FBQzRCLGVBQWUsTUFBTSxJQUFJL0MsTUFBTTtRQUVwQyxNQUFNcUQsWUFBWSxJQUFJakUsdURBQVdBLENBQUNrRSxTQUFTO1FBQzNDLE1BQU0sQ0FBQ0MsZUFBZSxHQUFHLE1BQU1GLFVBQVVBLFNBQVMsQ0FBQ04sZUFBZTtRQUVsRSxNQUFNUyxZQUFZLElBQUl0RSx3RkFBK0I7UUFDckQsTUFBTSxDQUFDd0UsWUFBWSxHQUFHLE1BQU1GLFVBQVVHLGdCQUFnQixDQUFDO1lBQ3JEQyxPQUFPO2dCQUFFQyxNQUFNTjtZQUFlO1lBQzlCTyxPQUFPO2dCQUFFaEIsY0FBYztnQkFBU2lCLFlBQVk7WUFBUztZQUNyREMsYUFBYTtnQkFBRUMsZUFBZTtZQUFNO1FBQ3RDO1FBRUF2RSxJQUFJd0UsU0FBUyxDQUFDLGdCQUFnQjtRQUM5QnhFLElBQUl5RSxJQUFJLENBQUNULFlBQVlVLFlBQVk7SUFDbkMsRUFBRSxPQUFPeEMsS0FBSztRQUNaQyxRQUFRQyxLQUFLLENBQUMscUJBQXFCRixJQUFJeUMsT0FBTyxJQUFJekM7UUFDbERsQyxJQUFJa0IsTUFBTSxDQUFDLEtBQUttQixJQUFJLENBQUM7WUFBRUQsT0FBTztRQUF3QztJQUN4RTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGNoZWJyXFx2b2ljZS1kdWJiaW5nLWFwcFxccGFnZXNcXGFwaVxcY29udmVydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgc3BlZWNoIGZyb20gJ0Bnb29nbGUtY2xvdWQvc3BlZWNoJztcclxuaW1wb3J0IHRleHRUb1NwZWVjaCBmcm9tICdAZ29vZ2xlLWNsb3VkL3RleHQtdG8tc3BlZWNoJztcclxuaW1wb3J0IHsgdjIgYXMgVHJhbnNsYXRlVjIgfSBmcm9tICdAZ29vZ2xlLWNsb3VkL3RyYW5zbGF0ZSc7XHJcblxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBtdWx0ZXIubWVtb3J5U3RvcmFnZSgpIH0pO1xyXG5cclxuY29uc3QgcnVuTWlkZGxld2FyZSA9IChyZXEsIHJlcywgZm4pID0+XHJcbiAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgZm4ocmVxLCByZXMsIChyZXN1bHQpID0+IHtcclxuICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gcmVqZWN0KHJlc3VsdCk7XHJcbiAgICAgIHJldHVybiByZXNvbHZlKHJlc3VsdCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgYXBpOiB7XHJcbiAgICBib2R5UGFyc2VyOiBmYWxzZSwgLy8gUmVxdWlyZWQgZm9yIG11bHRlclxyXG4gIH0sXHJcbn07XHJcblxyXG5jb25zdCBnZXRFbmNvZGluZ0Zyb21FeHRlbnNpb24gPSAoZmlsZW5hbWUpID0+IHtcclxuICBjb25zdCBleHQgPSBmaWxlbmFtZS5zcGxpdCgnLicpLnBvcCgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgc3dpdGNoIChleHQpIHtcclxuICAgIGNhc2UgJ21wMyc6XHJcbiAgICAgIHJldHVybiAnTVAzJztcclxuICAgIGNhc2UgJ3dhdic6XHJcbiAgICAgIHJldHVybiAnTElORUFSMTYnO1xyXG4gICAgY2FzZSAnbTRhJzpcclxuICAgIGNhc2UgJ2FhYyc6XHJcbiAgICAgIHJldHVybiAnQUFDX0xDJztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiAnTElORUFSMTYnO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZCgnTWV0aG9kIE5vdCBBbGxvd2VkJyk7XHJcbiAgfVxyXG5cclxuICAvLyBIYW5kbGUgR29vZ2xlIGNyZWRlbnRpYWxzIGR5bmFtaWNhbGx5OlxyXG4gIGlmIChwcm9jZXNzLmVudi5HT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFNfQkFTRTY0KSB7XHJcbiAgICAvLyBJbiBkZXBsb3llZCBlbnZpcm9ubWVudCwgZGVjb2RlIGJhc2U2NCBhbmQgd3JpdGUgdGhlIEpTT04gZmlsZVxyXG4gICAgY29uc3QgYmFzZTY0S2V5ID0gcHJvY2Vzcy5lbnYuR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTX0JBU0U2NDtcclxuICAgIGNvbnN0IGtleUZpbGVQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICd2b2ljZS1kdWJiaW5nLWFwcC5qc29uJyk7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBrZXlGaWxlSnNvbiA9IEJ1ZmZlci5mcm9tKGJhc2U2NEtleSwgJ2Jhc2U2NCcpLnRvU3RyaW5nKCd1dGY4Jyk7XHJcbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoa2V5RmlsZVBhdGgsIGtleUZpbGVKc29uLCB7IGVuY29kaW5nOiAndXRmOCcgfSk7XHJcbiAgICAgIHByb2Nlc3MuZW52LkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMUyA9IGtleUZpbGVQYXRoO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHdyaXRpbmcgR29vZ2xlIGNyZWRlbnRpYWxzIGZpbGU6JywgZXJyKTtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gc2V0dXAgR29vZ2xlIGNyZWRlbnRpYWxzJyB9KTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gT24gbG9jYWwgc3lzdGVtLCBhc3N1bWUgdm9pY2UtZHViYmluZy1hcHAuanNvbiBpcyBhbHJlYWR5IHByZXNlbnRcclxuICAgIGNvbnN0IGxvY2FsS2V5UGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAndm9pY2UtZHViYmluZy1hcHAuanNvbicpO1xyXG4gICAgaWYgKGZzLmV4aXN0c1N5bmMobG9jYWxLZXlQYXRoKSkge1xyXG4gICAgICBwcm9jZXNzLmVudi5HT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFMgPSBsb2NhbEtleVBhdGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0dvb2dsZSBjcmVkZW50aWFscyBub3QgZm91bmQgbG9jYWxseScgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgcnVuTWlkZGxld2FyZShyZXEsIHJlcywgdXBsb2FkLnNpbmdsZSgnYXVkaW8nKSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdVcGxvYWQgZXJyb3I6JywgZXJyKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAnRmlsZSB1cGxvYWQgZmFpbGVkLicgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBhdWRpb0J1ZmZlciA9IHJlcS5maWxlLmJ1ZmZlcjtcclxuICBjb25zdCBmaWxlbmFtZSA9IHJlcS5maWxlLm9yaWdpbmFsbmFtZTtcclxuICBjb25zdCBlbmNvZGluZyA9IGdldEVuY29kaW5nRnJvbUV4dGVuc2lvbihmaWxlbmFtZSk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzcGVlY2hDbGllbnQgPSBuZXcgc3BlZWNoLlNwZWVjaENsaWVudCgpO1xyXG4gICAgY29uc3QgW3NwZWVjaFJlc3BvbnNlXSA9IGF3YWl0IHNwZWVjaENsaWVudC5yZWNvZ25pemUoe1xyXG4gICAgICBhdWRpbzogeyBjb250ZW50OiBhdWRpb0J1ZmZlci50b1N0cmluZygnYmFzZTY0JykgfSxcclxuICAgICAgY29uZmlnOiB7XHJcbiAgICAgICAgZW5jb2RpbmcsXHJcbiAgICAgICAgc2FtcGxlUmF0ZUhlcnR6OiA0NDEwMCxcclxuICAgICAgICBsYW5ndWFnZUNvZGU6ICdlbi1VUycsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCB0cmFuc2NyaXB0aW9uID0gc3BlZWNoUmVzcG9uc2UucmVzdWx0c1xyXG4gICAgICAubWFwKChyKSA9PiByLmFsdGVybmF0aXZlc1swXS50cmFuc2NyaXB0KVxyXG4gICAgICAuam9pbignICcpO1xyXG5cclxuICAgIGlmICghdHJhbnNjcmlwdGlvbikgdGhyb3cgbmV3IEVycm9yKCfinYwgVHJhbnNjcmlwdGlvbiBmYWlsZWQnKTtcclxuXHJcbiAgICBjb25zdCB0cmFuc2xhdGUgPSBuZXcgVHJhbnNsYXRlVjIuVHJhbnNsYXRlKCk7XHJcbiAgICBjb25zdCBbdHJhbnNsYXRlZFRleHRdID0gYXdhaXQgdHJhbnNsYXRlLnRyYW5zbGF0ZSh0cmFuc2NyaXB0aW9uLCAnaGknKTtcclxuXHJcbiAgICBjb25zdCB0dHNDbGllbnQgPSBuZXcgdGV4dFRvU3BlZWNoLlRleHRUb1NwZWVjaENsaWVudCgpO1xyXG4gICAgY29uc3QgW3R0c1Jlc3BvbnNlXSA9IGF3YWl0IHR0c0NsaWVudC5zeW50aGVzaXplU3BlZWNoKHtcclxuICAgICAgaW5wdXQ6IHsgdGV4dDogdHJhbnNsYXRlZFRleHQgfSxcclxuICAgICAgdm9pY2U6IHsgbGFuZ3VhZ2VDb2RlOiAnaGktSU4nLCBzc21sR2VuZGVyOiAnRkVNQUxFJyB9LFxyXG4gICAgICBhdWRpb0NvbmZpZzogeyBhdWRpb0VuY29kaW5nOiAnTVAzJyB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2F1ZGlvL21wZWcnKTtcclxuICAgIHJlcy5zZW5kKHR0c1Jlc3BvbnNlLmF1ZGlvQ29udGVudCk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdDb252ZXJzaW9uIGVycm9yOicsIGVyci5tZXNzYWdlIHx8IGVycik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiAn4p2MIEF1ZGlvIGNvbnZlcnNpb24gZmFpbGVkLiBUcnkgYWdhaW4uJyB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIm11bHRlciIsImZzIiwicGF0aCIsInNwZWVjaCIsInRleHRUb1NwZWVjaCIsInYyIiwiVHJhbnNsYXRlVjIiLCJ1cGxvYWQiLCJzdG9yYWdlIiwibWVtb3J5U3RvcmFnZSIsInJ1bk1pZGRsZXdhcmUiLCJyZXEiLCJyZXMiLCJmbiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVzdWx0IiwiRXJyb3IiLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiZ2V0RW5jb2RpbmdGcm9tRXh0ZW5zaW9uIiwiZmlsZW5hbWUiLCJleHQiLCJzcGxpdCIsInBvcCIsInRvTG93ZXJDYXNlIiwiaGFuZGxlciIsIm1ldGhvZCIsInN0YXR1cyIsImVuZCIsInByb2Nlc3MiLCJlbnYiLCJHT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFNfQkFTRTY0IiwiYmFzZTY0S2V5Iiwia2V5RmlsZVBhdGgiLCJqb2luIiwiY3dkIiwia2V5RmlsZUpzb24iLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJ3cml0ZUZpbGVTeW5jIiwiZW5jb2RpbmciLCJHT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFMiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJqc29uIiwibG9jYWxLZXlQYXRoIiwiZXhpc3RzU3luYyIsInNpbmdsZSIsImF1ZGlvQnVmZmVyIiwiZmlsZSIsImJ1ZmZlciIsIm9yaWdpbmFsbmFtZSIsInNwZWVjaENsaWVudCIsIlNwZWVjaENsaWVudCIsInNwZWVjaFJlc3BvbnNlIiwicmVjb2duaXplIiwiYXVkaW8iLCJjb250ZW50Iiwic2FtcGxlUmF0ZUhlcnR6IiwibGFuZ3VhZ2VDb2RlIiwidHJhbnNjcmlwdGlvbiIsInJlc3VsdHMiLCJtYXAiLCJyIiwiYWx0ZXJuYXRpdmVzIiwidHJhbnNjcmlwdCIsInRyYW5zbGF0ZSIsIlRyYW5zbGF0ZSIsInRyYW5zbGF0ZWRUZXh0IiwidHRzQ2xpZW50IiwiVGV4dFRvU3BlZWNoQ2xpZW50IiwidHRzUmVzcG9uc2UiLCJzeW50aGVzaXplU3BlZWNoIiwiaW5wdXQiLCJ0ZXh0Iiwidm9pY2UiLCJzc21sR2VuZGVyIiwiYXVkaW9Db25maWciLCJhdWRpb0VuY29kaW5nIiwic2V0SGVhZGVyIiwic2VuZCIsImF1ZGlvQ29udGVudCIsIm1lc3NhZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/convert.js\n");

/***/ }),

/***/ "@google-cloud/speech":
/*!***************************************!*\
  !*** external "@google-cloud/speech" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("@google-cloud/speech");

/***/ }),

/***/ "@google-cloud/text-to-speech":
/*!***********************************************!*\
  !*** external "@google-cloud/text-to-speech" ***!
  \***********************************************/
/***/ ((module) => {

module.exports = require("@google-cloud/text-to-speech");

/***/ }),

/***/ "@google-cloud/translate":
/*!******************************************!*\
  !*** external "@google-cloud/translate" ***!
  \******************************************/
/***/ ((module) => {

module.exports = require("@google-cloud/translate");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fconvert&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cconvert.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();