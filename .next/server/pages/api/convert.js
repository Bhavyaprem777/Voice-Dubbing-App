"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/convert";
exports.ids = ["pages/api/convert"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fconvert&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cconvert.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fconvert&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cconvert.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_convert_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\convert.js */ \"(api-node)/./pages/api/convert.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_convert_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_convert_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/convert\",\n        pathname: \"/api/convert\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_convert_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGY29udmVydCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDY29udmVydC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUNxRDtBQUNyRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsa0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGtEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGNvbnZlcnQuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NvbnZlcnRcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jb252ZXJ0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fconvert&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cconvert.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/convert.js":
/*!******************************!*\
  !*** ./pages/api/convert.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! multer */ \"multer\");\n/* harmony import */ var multer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(multer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _google_cloud_speech__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @google-cloud/speech */ \"@google-cloud/speech\");\n/* harmony import */ var _google_cloud_speech__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_google_cloud_speech__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _google_cloud_text_to_speech__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @google-cloud/text-to-speech */ \"@google-cloud/text-to-speech\");\n/* harmony import */ var _google_cloud_text_to_speech__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_google_cloud_text_to_speech__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _google_cloud_translate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @google-cloud/translate */ \"@google-cloud/translate\");\n/* harmony import */ var _google_cloud_translate__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_google_cloud_translate__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nconst upload = multer__WEBPACK_IMPORTED_MODULE_0___default()({\n    storage: multer__WEBPACK_IMPORTED_MODULE_0___default().memoryStorage()\n});\nconst runMiddleware = (req, res, fn)=>new Promise((resolve, reject)=>{\n        fn(req, res, (result)=>{\n            if (result instanceof Error) return reject(result);\n            return resolve(result);\n        });\n    });\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nconst getEncodingFromExtension = (filename)=>{\n    const ext = filename.split('.').pop().toLowerCase();\n    switch(ext){\n        case 'mp3':\n            return 'MP3';\n        case 'wav':\n            return 'LINEAR16';\n        case 'm4a':\n        case 'aac':\n            return 'AAC_LC';\n        default:\n            return 'LINEAR16';\n    }\n};\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).end('Method Not Allowed');\n    }\n    // Handle Google credentials dynamically:\n    if (process.env.GOOGLE_APPLICATION_CREDENTIALS_BASE64) {\n        // In deployed environment, decode base64 and write the JSON file\n        const base64Key = process.env.GOOGLE_APPLICATION_CREDENTIALS_BASE64;\n        // Write to /tmp folder which is usually writable in serverless envs\n        const keyFilePath = path__WEBPACK_IMPORTED_MODULE_2___default().join('/tmp', 'voice-dubbing-app.json');\n        try {\n            const keyFileJson = Buffer.from(base64Key, 'base64').toString('utf8');\n            fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(keyFilePath, keyFileJson, {\n                encoding: 'utf8'\n            });\n            process.env.GOOGLE_APPLICATION_CREDENTIALS = keyFilePath;\n        } catch (err) {\n            console.error('Error writing Google credentials file:', err);\n            return res.status(500).json({\n                error: 'Failed to setup Google credentials'\n            });\n        }\n    } else {\n        // On local system, assume voice-dubbing-app.json is already present in root\n        const localKeyPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), 'voice-dubbing-app.json');\n        if (fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(localKeyPath)) {\n            process.env.GOOGLE_APPLICATION_CREDENTIALS = localKeyPath;\n        } else {\n            return res.status(500).json({\n                error: 'Google credentials not found locally'\n            });\n        }\n    }\n    try {\n        await runMiddleware(req, res, upload.single('audio'));\n    } catch (err) {\n        console.error('Upload error:', err);\n        return res.status(500).json({\n            error: 'File upload failed.'\n        });\n    }\n    const audioBuffer = req.file.buffer;\n    const filename = req.file.originalname;\n    const encoding = getEncodingFromExtension(filename);\n    try {\n        const speechClient = new (_google_cloud_speech__WEBPACK_IMPORTED_MODULE_3___default().SpeechClient)();\n        const [speechResponse] = await speechClient.recognize({\n            audio: {\n                content: audioBuffer.toString('base64')\n            },\n            config: {\n                encoding,\n                sampleRateHertz: 44100,\n                languageCode: 'en-US'\n            }\n        });\n        const transcription = speechResponse.results.map((r)=>r.alternatives[0].transcript).join(' ');\n        if (!transcription) throw new Error('❌ Transcription failed');\n        const translate = new _google_cloud_translate__WEBPACK_IMPORTED_MODULE_5__.v2.Translate();\n        const [translatedText] = await translate.translate(transcription, 'hi');\n        const ttsClient = new (_google_cloud_text_to_speech__WEBPACK_IMPORTED_MODULE_4___default().TextToSpeechClient)();\n        const [ttsResponse] = await ttsClient.synthesizeSpeech({\n            input: {\n                text: translatedText\n            },\n            voice: {\n                languageCode: 'hi-IN',\n                ssmlGender: 'FEMALE'\n            },\n            audioConfig: {\n                audioEncoding: 'MP3'\n            }\n        });\n        res.setHeader('Content-Type', 'audio/mpeg');\n        res.send(ttsResponse.audioContent);\n    } catch (err) {\n        console.error('Conversion error:', err.message || err);\n        res.status(500).json({\n            error: '❌ Audio conversion failed. Try again.'\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQ0FvQixpQkFBaUI7Z0JBQ2pCQyxjQUFjO1lBQ2hCO1FBQ0Y7UUFFQSxNQUFNQyxnQkFBZ0JOLGVBQWVPLE9BQU8sQ0FDekNDLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxZQUFZLENBQUMsRUFBRSxDQUFDQyxVQUFVLEVBQ3ZDakMsSUFBSSxDQUFDO1FBRVIsSUFBSSxDQUFDNEIsZUFBZSxNQUFNLElBQUkvQyxNQUFNO1FBRXBDLE1BQU1xRCxZQUFZLElBQUlqRSx1REFBV0EsQ0FBQ2tFLFNBQVM7UUFDM0MsTUFBTSxDQUFDQyxlQUFlLEdBQUcsTUFBTUYsVUFBVUEsU0FBUyxDQUFDTixlQUFlO1FBRWxFLE1BQU1TLFlBQVksSUFBSXRFLHdGQUErQjtRQUNyRCxNQUFNLENBQUN3RSxZQUFZLEdBQUcsTUFBTUYsVUFBVUcsZ0JBQWdCLENBQUM7WUFDckRDLE9BQU87Z0JBQUVDLE1BQU1OO1lBQWU7WUFDOUJPLE9BQU87Z0JBQUVoQixjQUFjO2dCQUFTaUIsWUFBWTtZQUFTO1lBQ3JEQyxhQUFhO2dCQUFFQyxlQUFlO1lBQU07UUFDdEM7UUFFQXZFLElBQUl3RSxTQUFTLENBQUMsZ0JBQWdCO1FBQzlCeEUsSUFBSXlFLElBQUksQ0FBQ1QsWUFBWVUsWUFBWTtJQUNuQyxFQUFFLE9BQU96QyxLQUFLO1FBQ1pDLFFBQVFDLEtBQUssQ0FBQyxxQkFBcUJGLElBQUkwQyxPQUFPLElBQUkxQztRQUNsRGpDLElBQUlrQixNQUFNLENBQUMsS0FBS2tCLElBQUksQ0FBQztZQUFFRCxPQUFPO1FBQXdDO0lBQ3hFO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcY2hlYnJcXHZvaWNlLWR1YmJpbmctYXBwXFxwYWdlc1xcYXBpXFxjb252ZXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCBzcGVlY2ggZnJvbSAnQGdvb2dsZS1jbG91ZC9zcGVlY2gnO1xyXG5pbXBvcnQgdGV4dFRvU3BlZWNoIGZyb20gJ0Bnb29nbGUtY2xvdWQvdGV4dC10by1zcGVlY2gnO1xyXG5pbXBvcnQgeyB2MiBhcyBUcmFuc2xhdGVWMiB9IGZyb20gJ0Bnb29nbGUtY2xvdWQvdHJhbnNsYXRlJztcclxuXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IG11bHRlci5tZW1vcnlTdG9yYWdlKCkgfSk7XHJcblxyXG5jb25zdCBydW5NaWRkbGV3YXJlID0gKHJlcSwgcmVzLCBmbikgPT5cclxuICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBmbihyZXEsIHJlcywgKHJlc3VsdCkgPT4ge1xyXG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRXJyb3IpIHJldHVybiByZWplY3QocmVzdWx0KTtcclxuICAgICAgcmV0dXJuIHJlc29sdmUocmVzdWx0KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBhcGk6IHtcclxuICAgIGJvZHlQYXJzZXI6IGZhbHNlLCAvLyBSZXF1aXJlZCBmb3IgbXVsdGVyXHJcbiAgfSxcclxufTtcclxuXHJcbmNvbnN0IGdldEVuY29kaW5nRnJvbUV4dGVuc2lvbiA9IChmaWxlbmFtZSkgPT4ge1xyXG4gIGNvbnN0IGV4dCA9IGZpbGVuYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKTtcclxuICBzd2l0Y2ggKGV4dCkge1xyXG4gICAgY2FzZSAnbXAzJzpcclxuICAgICAgcmV0dXJuICdNUDMnO1xyXG4gICAgY2FzZSAnd2F2JzpcclxuICAgICAgcmV0dXJuICdMSU5FQVIxNic7XHJcbiAgICBjYXNlICdtNGEnOlxyXG4gICAgY2FzZSAnYWFjJzpcclxuICAgICAgcmV0dXJuICdBQUNfTEMnO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuICdMSU5FQVIxNic7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuZW5kKCdNZXRob2QgTm90IEFsbG93ZWQnKTtcclxuICB9XHJcblxyXG4gIC8vIEhhbmRsZSBHb29nbGUgY3JlZGVudGlhbHMgZHluYW1pY2FsbHk6XHJcbiAgaWYgKHByb2Nlc3MuZW52LkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMU19CQVNFNjQpIHtcclxuICAgIC8vIEluIGRlcGxveWVkIGVudmlyb25tZW50LCBkZWNvZGUgYmFzZTY0IGFuZCB3cml0ZSB0aGUgSlNPTiBmaWxlXHJcbiAgICBjb25zdCBiYXNlNjRLZXkgPSBwcm9jZXNzLmVudi5HT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFNfQkFTRTY0O1xyXG4gICAgLy8gV3JpdGUgdG8gL3RtcCBmb2xkZXIgd2hpY2ggaXMgdXN1YWxseSB3cml0YWJsZSBpbiBzZXJ2ZXJsZXNzIGVudnNcclxuICAgIGNvbnN0IGtleUZpbGVQYXRoID0gcGF0aC5qb2luKCcvdG1wJywgJ3ZvaWNlLWR1YmJpbmctYXBwLmpzb24nKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGtleUZpbGVKc29uID0gQnVmZmVyLmZyb20oYmFzZTY0S2V5LCAnYmFzZTY0JykudG9TdHJpbmcoJ3V0ZjgnKTtcclxuICAgICAgZnMud3JpdGVGaWxlU3luYyhrZXlGaWxlUGF0aCwga2V5RmlsZUpzb24sIHsgZW5jb2Rpbmc6ICd1dGY4JyB9KTtcclxuICAgICAgcHJvY2Vzcy5lbnYuR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTID0ga2V5RmlsZVBhdGg7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd3JpdGluZyBHb29nbGUgY3JlZGVudGlhbHMgZmlsZTonLCBlcnIpO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBzZXR1cCBHb29nbGUgY3JlZGVudGlhbHMnIH0pO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBPbiBsb2NhbCBzeXN0ZW0sIGFzc3VtZSB2b2ljZS1kdWJiaW5nLWFwcC5qc29uIGlzIGFscmVhZHkgcHJlc2VudCBpbiByb290XHJcbiAgICBjb25zdCBsb2NhbEtleVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3ZvaWNlLWR1YmJpbmctYXBwLmpzb24nKTtcclxuICAgIGlmIChmcy5leGlzdHNTeW5jKGxvY2FsS2V5UGF0aCkpIHtcclxuICAgICAgcHJvY2Vzcy5lbnYuR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTID0gbG9jYWxLZXlQYXRoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdHb29nbGUgY3JlZGVudGlhbHMgbm90IGZvdW5kIGxvY2FsbHknIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHJ1bk1pZGRsZXdhcmUocmVxLCByZXMsIHVwbG9hZC5zaW5nbGUoJ2F1ZGlvJykpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcignVXBsb2FkIGVycm9yOicsIGVycik7XHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZpbGUgdXBsb2FkIGZhaWxlZC4nIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYXVkaW9CdWZmZXIgPSByZXEuZmlsZS5idWZmZXI7XHJcbiAgY29uc3QgZmlsZW5hbWUgPSByZXEuZmlsZS5vcmlnaW5hbG5hbWU7XHJcbiAgY29uc3QgZW5jb2RpbmcgPSBnZXRFbmNvZGluZ0Zyb21FeHRlbnNpb24oZmlsZW5hbWUpO1xyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3BlZWNoQ2xpZW50ID0gbmV3IHNwZWVjaC5TcGVlY2hDbGllbnQoKTtcclxuICAgIGNvbnN0IFtzcGVlY2hSZXNwb25zZV0gPSBhd2FpdCBzcGVlY2hDbGllbnQucmVjb2duaXplKHtcclxuICAgICAgYXVkaW86IHsgY29udGVudDogYXVkaW9CdWZmZXIudG9TdHJpbmcoJ2Jhc2U2NCcpIH0sXHJcbiAgICAgIGNvbmZpZzoge1xyXG4gICAgICAgIGVuY29kaW5nLFxyXG4gICAgICAgIHNhbXBsZVJhdGVIZXJ0ejogNDQxMDAsXHJcbiAgICAgICAgbGFuZ3VhZ2VDb2RlOiAnZW4tVVMnLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdHJhbnNjcmlwdGlvbiA9IHNwZWVjaFJlc3BvbnNlLnJlc3VsdHNcclxuICAgICAgLm1hcCgocikgPT4gci5hbHRlcm5hdGl2ZXNbMF0udHJhbnNjcmlwdClcclxuICAgICAgLmpvaW4oJyAnKTtcclxuXHJcbiAgICBpZiAoIXRyYW5zY3JpcHRpb24pIHRocm93IG5ldyBFcnJvcign4p2MIFRyYW5zY3JpcHRpb24gZmFpbGVkJyk7XHJcblxyXG4gICAgY29uc3QgdHJhbnNsYXRlID0gbmV3IFRyYW5zbGF0ZVYyLlRyYW5zbGF0ZSgpO1xyXG4gICAgY29uc3QgW3RyYW5zbGF0ZWRUZXh0XSA9IGF3YWl0IHRyYW5zbGF0ZS50cmFuc2xhdGUodHJhbnNjcmlwdGlvbiwgJ2hpJyk7XHJcblxyXG4gICAgY29uc3QgdHRzQ2xpZW50ID0gbmV3IHRleHRUb1NwZWVjaC5UZXh0VG9TcGVlY2hDbGllbnQoKTtcclxuICAgIGNvbnN0IFt0dHNSZXNwb25zZV0gPSBhd2FpdCB0dHNDbGllbnQuc3ludGhlc2l6ZVNwZWVjaCh7XHJcbiAgICAgIGlucHV0OiB7IHRleHQ6IHRyYW5zbGF0ZWRUZXh0IH0sXHJcbiAgICAgIHZvaWNlOiB7IGxhbmd1YWdlQ29kZTogJ2hpLUlOJywgc3NtbEdlbmRlcjogJ0ZFTUFMRScgfSxcclxuICAgICAgYXVkaW9Db25maWc6IHsgYXVkaW9FbmNvZGluZzogJ01QMycgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhdWRpby9tcGVnJyk7XHJcbiAgICByZXMuc2VuZCh0dHNSZXNwb25zZS5hdWRpb0NvbnRlbnQpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcignQ29udmVyc2lvbiBlcnJvcjonLCBlcnIubWVzc2FnZSB8fCBlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ+KdjCBBdWRpbyBjb252ZXJzaW9uIGZhaWxlZC4gVHJ5IGFnYWluLicgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJtdWx0ZXIiLCJmcyIsInBhdGgiLCJzcGVlY2giLCJ0ZXh0VG9TcGVlY2giLCJ2MiIsIlRyYW5zbGF0ZVYyIiwidXBsb2FkIiwic3RvcmFnZSIsIm1lbW9yeVN0b3JhZ2UiLCJydW5NaWRkbGV3YXJlIiwicmVxIiwicmVzIiwiZm4iLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc3VsdCIsIkVycm9yIiwiY29uZmlnIiwiYXBpIiwiYm9keVBhcnNlciIsImdldEVuY29kaW5nRnJvbUV4dGVuc2lvbiIsImZpbGVuYW1lIiwiZXh0Iiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsImhhbmRsZXIiLCJtZXRob2QiLCJzdGF0dXMiLCJlbmQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTX0JBU0U2NCIsImJhc2U2NEtleSIsImtleUZpbGVQYXRoIiwiam9pbiIsImtleUZpbGVKc29uIiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwid3JpdGVGaWxlU3luYyIsImVuY29kaW5nIiwiR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwianNvbiIsImxvY2FsS2V5UGF0aCIsImN3ZCIsImV4aXN0c1N5bmMiLCJzaW5nbGUiLCJhdWRpb0J1ZmZlciIsImZpbGUiLCJidWZmZXIiLCJvcmlnaW5hbG5hbWUiLCJzcGVlY2hDbGllbnQiLCJTcGVlY2hDbGllbnQiLCJzcGVlY2hSZXNwb25zZSIsInJlY29nbml6ZSIsImF1ZGlvIiwiY29udGVudCIsInNhbXBsZVJhdGVIZXJ0eiIsImxhbmd1YWdlQ29kZSIsInRyYW5zY3JpcHRpb24iLCJyZXN1bHRzIiwibWFwIiwiciIsImFsdGVybmF0aXZlcyIsInRyYW5zY3JpcHQiLCJ0cmFuc2xhdGUiLCJUcmFuc2xhdGUiLCJ0cmFuc2xhdGVkVGV4dCIsInR0c0NsaWVudCIsIlRleHRUb1NwZWVjaENsaWVudCIsInR0c1Jlc3BvbnNlIiwic3ludGhlc2l6ZVNwZWVjaCIsImlucHV0IiwidGV4dCIsInZvaWNlIiwic3NtbEdlbmRlciIsImF1ZGlvQ29uZmlnIiwiYXVkaW9FbmNvZGluZyIsInNldEhlYWRlciIsInNlbmQiLCJhdWRpb0NvbnRlbnQiLCJtZXNzYWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/convert.js\n");

/***/ }),

/***/ "@google-cloud/speech":
/*!***************************************!*\
  !*** external "@google-cloud/speech" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("@google-cloud/speech");

/***/ }),

/***/ "@google-cloud/text-to-speech":
/*!***********************************************!*\
  !*** external "@google-cloud/text-to-speech" ***!
  \***********************************************/
/***/ ((module) => {

module.exports = require("@google-cloud/text-to-speech");

/***/ }),

/***/ "@google-cloud/translate":
/*!******************************************!*\
  !*** external "@google-cloud/translate" ***!
  \******************************************/
/***/ ((module) => {

module.exports = require("@google-cloud/translate");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "multer":
/*!*************************!*\
  !*** external "multer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("multer");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fconvert&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cconvert.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();